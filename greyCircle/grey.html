<html>

<head>
    <link rel="stylesheet" href="grey.css"> </head>
   <script src="https://code.jquery.com/jquery-3.1.0.js"></script>
   <script>
        //tuples carrying fractiosn to be multiplied to image width to obtain dynamic widths and heights 
        var tupleArr = [[1 / 8, 1 / 6], [1 / 8, .7], [.75, 1 / 6], [.75, .7]];
        
        //coordinates and dimensions of hotspots in next three variables:        
        //collects hotspot pixel ranges of hotspots to be used to limit miss-hit rendering
        var hotSpot = [];
        var areaWidth = $("img").width() / 16 - 10 ;
        var areaHeight = $("img").height() / 9 - 10 ;
        
        function createHotspots(tupleArr) {
            for (var i = 0; i < tupleArr.length; i++) {
                var hotSpotTuple = [];
                $("map").append('<area id="hotspot' + i + '" shape="circle" href="#" />');
                var hotSpotWidth = $("img").width() * tupleArr[i][0];
                console.log(hotSpotWidth);
                hotSpotTuple.push(hotSpotWidth);
                var hotSpotHeight = $("img").height() * tupleArr[i][1];
                console.log(hotSpotHeight);
                hotSpotTuple.push(hotSpotHeight);
                hotSpot.push(hotSpotTuple);
                $("#hotspot" + i).css("left", hotSpotWidth + "px");
                $("#hotspot" + i).css("top", hotSpotHeight + "px" );
            };
        }

        $(window).on("load", function () {
            //hotspot dimensions
            createHotspots(tupleArr);
            $("area").css("width", areaWidth + "px");
            $("area").css("height", areaHeight + "px");
            $("area").click(function () {
                $(this).css("animation", "border .1s ease 1 forwards");
            });
        });
        function updateHotSpots(tupleArr) {
            for (var i = 0; i < tupleArr.length++; i++) {
                $("#hotspot" + i).css("left", $("img").width() * tupleArr[i][0] + "px");
                $("#hotspot" + i).css("top", $("img").height() * tupleArr[i][1] + "px");
            }
        }
        $("area, img").click(function (e) {
            if (e.clientX && e.clientY) { //window registers clientX and Y vals if not clicking hotspots
                console.log(e.clientX);
                $("#offHit").css("width", areaWidth -11+ "px");
                $("#offHit").css("height", areaHeight-11 + "px");
                //left
                $("#offHit").css("left", e.clientX - ($("#offHit").width()) / 2 + "px");
                //top
                $("#offHit").css("top", e.clientY - ($("#offHit").height()) / 2 + "px");
                //animation
                $("#offHit").css("animation", "unborder .5s ease 1 forwards");
                setTimeout(function () {
                    $("#offHit").css("animation", "");
                }, 350)
            }
        });

        $(window).resize(function () {
            $("area").css("width", areaWidth + "px");
            $("area").css("height", areaHeight + "px");
            updateHotSpots(tupleArr);
            $("area").click(function () {
                $(this).css("animation", "border .1s ease 1 forwards");
            });
        });
                

    </script>
<body> <img src="unnamed.png" usemap="#map">
    <map name="map"> </map>
    <area id="offHit" shape="circle" href="#" />
 
 
</body>

</html>